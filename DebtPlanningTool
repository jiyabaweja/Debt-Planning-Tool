def calculate_emi(P, R, T):
    monthly_rate = R / (12 * 100)
    n = T * 12
    emi = (P * monthly_rate * (1 + monthly_rate)**n) / ((1 + monthly_rate)**n - 1)
    total_payment = emi * n
    total_interest = total_payment - P
    return round(emi, 2), round(total_interest, 2), round(total_payment, 2)

# Step 2â€“4 merged
num_debts = int(input("Enter number of debts to analyze: "))
debt_list = []

for i in range(num_debts):
    print(f"\nDebt {i+1}:")
    name = input("Debt Name: ")
    P = float(input("Loan Amount (â‚¹): "))
    R = float(input("Annual Interest Rate (%): "))
    T = float(input("Tenure (years): "))

    emi, interest, total = calculate_emi(P, R, T)
    debt_list.append({
        "Name": name,
        "EMI (â‚¹/month)": emi,
        "Total Interest (â‚¹)": interest,
        "Total Payment (â‚¹)": total
    })

# Summary & Insights
print("\nğŸ“‹ Debt Summary & Analysis:\n")
total_emi = 0
for debt in debt_list:
    print(f"ğŸŸ¢ {debt['Name']}")
    print(f"   EMI: â‚¹{debt['EMI (â‚¹/month)']}")
    print(f"   Total Interest: â‚¹{debt['Total Interest (â‚¹)']}")
    print(f"   Total Payment: â‚¹{debt['Total Payment (â‚¹)']}")
    print("-" * 30)
    total_emi += debt["EMI (â‚¹/month)"]

most_expensive = max(debt_list, key=lambda x: x["Total Interest (â‚¹)"])
print(f"\nğŸ’° Total Monthly EMI Outflow: â‚¹{round(total_emi, 2)}")
print(f"âš ï¸ Costliest Debt by Interest: {most_expensive['Name']} (â‚¹{most_expensive['Total Interest (â‚¹)']})")
